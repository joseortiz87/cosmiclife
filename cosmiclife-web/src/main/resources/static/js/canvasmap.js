//SkyMapOnline 1.0, by Ciprian Boboc (www.ciprianboboc.com)

var oSlider = { 'zoomLevels': 10, 'minValue': 82, 'maxValue': 208, 'zoomLevel': 0}

var starlist = new Array(), linelist = new Array(), namelist = new Array();
var circle = Math.PI * 2;
var rotate = 0;
var rotating = false;
var canvasSupport = false;
var constDataInit = false;

var t;
var dim;
var mouse = { x: -100, y: -100 };
var prevmouse = { x: -100, y: -100 };
var prevcenter = { x: 0, y: 0 };
var prevtime;
var activeSurface;
var position = -1;
var fov = 360;
var maxStarFactor = 4.5;
var original_width = 9920; //4960;
var original_height = 14030;//7015;
var startsZoomFactor = 0;
var startsBrightness = 1.5; //1.2;

var backgroundColor = "black";
var haloColor = "0, 0, 141";
var constColor = "blue";
var startsColor = "255, 255, 255";
var constNamefontColor = 'black';
var constNamefontStyle = '60px TallFilmFine';
var constLineWidth = 6;
var URL_GOOGLEMAPS = "https://maps.googleapis.com/maps/api/geocode/json";
var API_KEY = "AIzaSyDG6otcLmgbw5FQzbRNwSF8eiAkh378Oqw";
var lat = 0;
var lng = 0;
var time = "";
var parameters_coord = "";
var kids = false;

var constDataExample =
{"d":["60.7789,156.1966,52.67951,136.2452,117.5931,144.5088,114.3723,121.8759,114.3723,121.8759,69.27254,106.7251,61.18835,129.3721,60.7789,156.1966,52.67951,136.2452,57.16607,106.928,69.27254,106.7251,95.48478,81.36798,69.27254,106.7251,61.18835,129.3721,231.0606,260.6806,227.0426,263.8752,228.409,318.5651,225.1712,316.0899,227.0426,263.8752,198.7769,271.0502,225.1712,316.0899,212.0107,293.1682,212.0107,293.1682,198.7769,271.0502,203.6974,305.0493,225.1712,316.0899,198.7769,271.0502,195.3074,275.6751,195.3074,275.6751,191.6821,282.3293,192.8038,297.7886,203.6974,305.0493,191.6821,282.3293,179.2803,301.7996,179.2803,301.7996,192.8038,297.7886,152.752,324.3609,121.8151,308.4641,121.8151,308.4641,100.1237,293.5517,100.1237,293.5517,87.54481,288.0868,87.54481,288.0868,83.08102,282.3216,83.08102,282.3216,86.15382,278.4259,83.08102,282.3216,78.52459,281.4027,83.08102,282.3216,64.22074,303.5924,66.26627,325.0355,63.08277,332.2745,64.22074,303.5924,66.26627,325.0355,63.08277,332.2745,54.71061,350.1344,54.71061,350.1344,42.81585,346.6957,49.28128,294.1903,64.22074,303.5924,45.39121,306.287,49.28128,294.1903,42.81585,346.6957,27.82833,336.9547,28.82447,321.0518,45.39121,306.287,27.82833,336.9547,28.82447,321.0518,298.598,459.869,300.1855,468.8274,298.598,459.869,300.3793,451.8152,284.9865,457.8554,298.598,459.869,284.9865,457.8554,284.4282,460.2313,284.4282,460.2313,278.9117,472.1579,284.3089,441.8681,284.9865,457.8554,264.2434,442.1108,284.3089,441.8681,426.7568,212.4732,433.1925,219.2057,413.3115,216.2753,426.7568,212.4732,413.3115,216.2753,389.1727,187.2088,413.3115,216.2753,403.1395,239.8508,368.4258,139.4019,352.9674,127.2666,389.1727,187.2088,376.4476,164.7594,376.4476,164.7594,368.4258,139.4019,376.4476,164.7594,358.9916,166.7305,386.4784,200.3687,413.3115,216.2753,358.9916,166.7305,361.8512,189.6373,361.8512,189.6373,386.4784,200.3687,174.2153,334.993,171.9643,341.3969,171.9643,341.3969,156.4251,371.1288,156.4251,371.1288,153.0757,375.874,153.0757,375.874,141.7387,369.6795,140.3685,346.226,173.9269,335.0776,141.7387,369.6795,127.1483,360.9415,128.7443,343.9791,140.3685,346.226,127.1483,360.9415,118.8771,351.1831,118.8771,351.1831,111.0356,339.9306,116.065,342.166,128.7443,343.9791,111.0356,339.9306,116.065,342.166,141.0722,56.15219,154.8471,43.87885,143.6147,84.21915,130.716,77.71883,130.716,77.71883,143.7664,65.98853,143.7664,65.98853,141.0722,56.15219,421.8822,405.5592,395.8628,424.3082,395.8628,424.3082,381.713,423.0901,193.715,116.6276,169.3042,118.0826,205.8825,95.59891,193.715,116.6276,205.8825,95.59891,178.6871,91.82001,169.3042,118.0826,178.6871,91.82001,178.6871,91.82001,207.2775,64.18805,207.2775,64.18805,205.8825,95.59891,248.6794,420.4275,239.2092,424.2463,239.2092,424.2463,230.0901,419.8775,230.0901,419.8775,226.4815,415.4361,227.1094,405.8536,232.1432,405.9736,226.4815,415.4361,225.1796,412.2141,225.2659,408.2031,227.1094,405.8536,225.1796,412.2141,225.2659,408.2031,416.2825,130.9143,414.9437,113.2883,416.2825,130.9143,402.9826,133.8072,201.3519,201.6532,213.5288,223.4443,190.5096,184.5439,212.8694,174.6908,190.5096,184.5439,201.3519,201.6532,190.5096,184.5439,172.4286,198.9088,185.2777,168.1746,190.5096,184.5439,165.5098,255.1549,167.0739,265.1003,165.5098,255.1549,164.7334,251.1258,164.7334,251.1258,160.2254,249.6425,161.8171,253.069,165.5098,255.1549,160.2254,249.6425,161.8171,253.069,322.6466,63.68154,325.0814,48.66855,327.9891,93.64497,322.6466,63.68154,318.7188,122.635,327.9891,93.64497,306.7805,129.5971,318.7188,122.635,295.1469,124.6746,306.7805,129.5971,276.1079,117.5184,295.1469,124.6746,276.1079,117.5184,252.7264,104.692,277.28,155.736,274.9662,147.9151,274.9662,147.9151,265.441,144.2211,265.441,144.2211,265.8561,159.2544,265.441,144.2211,242.3864,137.742,265.8561,159.2544,277.28,155.736,252.7264,104.692,237.752,114.2733,252.4779,100.8211,276.1079,117.5184,242.3864,137.742,223.3424,111.0707,237.752,114.2733,234.3075,119.3437,239.7916,98.49102,252.4779,100.8211,234.3075,119.3437,265.441,144.2211,229.5935,105.5487,239.7916,98.49102,223.3424,111.0707,229.5935,105.5487,138.6516,263.6881,141.5036,263.911,135.6729,277.6489,138.6516,263.6881,118.7994,407.6142,113.5444,414.8991,113.5444,414.8991,110.0132,421.1076,110.0132,421.1076,105.0166,428.865,105.0166,428.865,122.6369,438.9052,105.0166,428.865,103.2815,441.0999,103.2815,441.0999,109.362,456.3763,321.1153,167.2789,331.7132,171.4685,314.4436,165.1124,321.1153,167.2789,327.8698,236.0355,334.4326,241.6794,311.0583,177.7087,314.4436,165.1124,315.1679,208.7849,327.8698,236.0355,315.1679,208.7849,309.2563,188.5272,309.2563,188.5272,311.0583,177.7087,309.2563,188.5272,292.9555,197.5763,304.3991,212.6897,315.1679,208.7849,301.6,260.298,298.0803,230.9981,298.0803,230.9981,304.3991,212.6897,298.0803,230.9981,287.8542,228.5226,292.9555,197.5763,304.3991,212.6897,292.9555,197.5763,287.985,197.2977,292.9555,197.5763,275.9289,173.6898,287.985,197.2977,269.7388,198.7709,287.8542,228.5226,277.7024,224.8715,277.7024,224.8715,270.4731,221.073,270.4731,221.073,264.5862,222.7081,432.5639,370.9503,467.9467,355.0712,175.2969,435.9435,158.9681,455.9295,158.9681,455.9295,178.8574,469.1468,158.9681,455.9295,142.2661,463.2815,142.5107,145.1722,130.2384,145.8348,152.7042,129.904,145.93,132.8472,146.8022,136.6475,141.3833,139.9015,141.3833,139.9015,142.5107,145.1722,145.93,132.8472,146.8022,136.6475,130.2384,145.8348,129.6618,170.2809,406.6104,337.4873,388.6004,318.7325,393.8557,368.5841,406.6104,337.4873,393.8557,368.5841,369.6461,378.7104,388.6004,318.7325,375.1426,337.3128,375.1426,337.3128,393.8557,368.5841,369.6461,378.7104,367.6037,383.8285,383.73,441.1141,359.2228,453.8295,380.714,426.4272,383.73,441.1141,359.2228,453.8295,364.3215,430.3094,369.8556,417.743,380.714,426.4272,373.9551,403.9602,369.8556,417.743,364.3215,430.3094,360.7787,419.0061,353.3651,429.5211,360.7787,419.0061,356.9337,395.7678,373.9551,403.9602,344.5302,405.3285,353.3651,429.5211,344.5302,405.3285,356.9337,395.7678,246.9395,195.1441,242.93,192.61,246.9395,195.1441,242.5109,198.3403,242.5109,198.3403,239.0517,210.037,239.0517,210.037,233.7541,211.696,236.9622,200.1159,242.5109,198.3403,233.7541,211.696,236.9622,200.1159,157.6545,396.3221,149.2336,391.6973,149.2336,391.6973,138.0493,391.2846,138.0493,391.2846,143.1433,417.7511,335.4323,442.3882,325.0664,444.4687,337.735,430.257,335.4323,442.3882,325.0664,444.4687,323.325,436.6549,323.325,436.6549,337.735,430.257,347.3867,307.1997,344.6841,310.4754,344.6841,310.4754,331.5326,328.9452,334.7223,292.1148,347.3867,307.1997,331.5326,328.9452,307.6198,345.2408,314.4123,273.208,334.7223,292.1148,307.6198,345.2408,280.5822,294.6859,288.3232,266.6252,314.4123,273.208,283.5184,289.3399,288.3232,266.6252,280.5822,294.6859,283.5184,289.3399,280.5822,294.6859,271.6079,294.4046,271.6079,294.4046,268.2482,295.707,209.6603,488.7564,269.8728,483.1134,191.1101,462.7748,195.1787,490.6599,195.1787,490.6599,209.6603,488.7564,60.7789,156.1966,30.98635,199.3114,30.98635,199.3114,71.29456,223.7515,117.6091,208.1321,131.0297,212.2691,98.96667,265.8902,118.6275,259.3249,81.55945,244.2475,98.96667,265.8902,104.2597,184.1834,125.9107,184.6856,92.64916,202.9622,117.6091,208.1321,79.41102,238.5967,81.55945,244.2475,92.1261,198.7896,92.64916,202.9622,89.99668,184.0095,60.7789,156.1966,89.99668,184.0095,104.2597,184.1834,89.99668,184.0095,92.1261,198.7896,71.29456,223.7515,79.41102,238.5967,71.29456,223.7515,89.99668,184.0095,120.695,393.743,105.1729,393.5228,105.1729,393.5228,89.30374,391.288,89.30374,391.288,76.0552,393.1147,76.0552,393.1147,73.43339,391.9278,73.43339,391.9278,69.222,381.4675,69.222,381.4675,78.48145,372.8267,69.222,381.4675,54.71061,350.1344,51.95001,260.3667,61.24791,261.8917,51.95001,260.3667,47.34555,246.5165,43.96869,264.9779,51.95001,260.3667,47.34555,246.5165,38.848,245.5591,38.848,245.5591,34.18451,258.91,34.18451,258.91,43.96869,264.9779,27.70666,234.6777,38.848,245.5591,355.8455,362.6514,355.6091,373.1316,355.8455,362.6514,353.0276,354.4206,355.8455,362.6514,340.3522,372.2057,340.3522,372.2057,334.3863,374.8777,334.3863,374.8777,329.3185,380.2213,329.3185,380.2213,317.3183,397.9643,317.3183,397.9643,314.4914,408.7623,314.4914,408.7623,310.4995,421.1164,310.4995,421.1164,299.1472,423.4146,299.1472,423.4146,283.6448,422.5129,287.7467,405.9828,289.5486,406.5254,283.6448,422.5129,277.9665,414.424,281.4938,411.3695,287.7467,405.9828,277.9665,414.424,281.4938,411.3695,251.5652,343.352,247.2792,325.7891,247.2792,325.7891,238.7598,316.0058,370.1521,260.0447,365.7135,273.7614,365.7135,273.7614,361.9528,280.451,359.7659,247.3939,370.1521,260.0447,356.3655,239.8383,359.8664,234.1778,356.3655,239.8383,359.7659,247.3939,356.3655,239.8383,352.7968,231.9987,356.3655,239.8383,352.9159,248.2669,364.8485,303.9895,347.3867,307.1997,361.9528,280.451,364.8485,303.9895,300.3305,337.4335,307.6198,345.2408,288.2882,345.0714,300.3305,337.4335,285.6493,338.0847,288.2882,345.0714,273.1135,329.7717,285.6493,338.0847,257.1688,310.9128,273.1135,329.7717,232.6151,290.9856,257.1688,310.9128,200.0602,248.7058,204.6966,250.6606,200.0602,248.7058,203.9277,252.1068,192.9628,245.1299,200.0602,248.7058,267.4042,387.3657,254.8071,398.4045,257.0953,385.7413,267.4042,387.3657,254.8071,398.4045,257.0953,385.7413,254.8071,398.4045,228.7112,385.8309,252.3804,373.507,257.0953,385.7413,240.1496,377.8481,252.3804,373.507,233.4681,375.8822,240.1496,377.8481,233.4681,375.8822,226.6023,363.1264,228.7112,385.8309,240.1496,377.8481,228.7112,385.8309,225.5176,379.6469,226.6023,363.1264,231.459,361.4179,226.6023,363.1264,222.982,361.0688,225.5176,379.6469,233.4681,375.8822,222.982,361.0688,214.3553,352.0079,218.5687,426.587,216.6353,415.8259,216.6353,415.8259,228.7112,385.8309,252.672,430.5839,262.185,430.5792,251.4944,439.201,252.672,430.5839,288.7723,496.9317,318.8755,484.276,372.3995,45.33211,352.0834,43.01176,352.0834,43.01176,368.3559,74.39144,381.9632,70.789,372.3995,45.33211,381.9632,70.789,403.4986,76.87111,368.3559,74.39144,381.9632,70.789,366.3666,90.13032,368.3559,74.39144,363.1617,102.1763,366.3666,90.13032,371.3454,122.5206,363.1617,102.1763,293.8761,81.93198,294.1922,90.9166,294.1922,90.9166,276.0022,87.28651,277.5258,79.68297,293.8761,81.93198,276.0022,87.28651,277.5258,79.68297,262.1534,73.0058,277.5258,79.68297,253.0896,62.07887,262.1534,73.0058,247.6765,51.8776,253.0896,62.07887,494.3973,259.4246,467.8374,308.7703,480.9895,244.9541,494.3973,259.4246,468.0312,219.3391,480.9895,244.9541,453.7512,199.5917,433.8749,167.309,433.8749,167.309,452.6436,145.689,467.8374,308.7703,431.3739,299.1367,438.3513,270.3338,457.9737,271.356,431.3739,299.1367,412.2564,302.3695,412.2564,302.3695,407.59,278.3875,407.59,278.3875,438.3513,270.3338,359.7828,204.2555,358.1615,212.4784,354.523,198.8295,359.7828,204.2555,358.1615,212.4784,353.7647,215.1765,353.7647,215.1765,349.8633,217.0335,349.8633,217.0335,344.4095,216.0513,344.4095,216.0513,339.6743,208.2101,213.8276,232.7544,221.0324,242.5112,213.8276,232.7544,198.0552,232.6758,","77,116,Andromeda,71,315,Aquarius,201,291,Aquila,293,445,Ara,381,184,Bootes,242,3,Camelopardalis,404,122,Canes Venatici,142,352,Capricornus,142,68,Cassiopeia,200,83,Cepheus,457,172,Coma Berenices,245,418,Corona Australis,341,198,Corona Borealis,187,172,Cygnus,162,262,Delphinus,260,118,Draco,137,269,Equuleus,108,434,Grus,289,213,Hercules,163,451,Indus,138,142,Lacerta,392,337,Libra,366,424,Lupus,237,189,Lyra,154,405,Microscopium,331,452,Norma,313,306,Ophiuchus,233,486,Pavo,93,217,Pegasus,10,179,Pisces,92,388,Piscis Australis,204,253,Sagitta,214,385,Sagittarius,315,400,Scorpius,244,333,Scutum,363,260,Serpens Caput,280,339,Serpens Cauda,225,446,Telescopium,311,488,Triangulum Australe,368,52,Ursa Major,290,81,Ursa Minor,468,278,Virgo,180,227,Vulpecula,"]};

var starDataExample = 
{"d":"240|36|396|-26.71|Sun|604|529|-11.4646011512499|Moon|134|479|0.440985704853259|Mercury|188|507|-3.89146761404477|Venus|15|378|-1.88955494539096|Jupiter|448|543|1.2350074964391|Saturn|433|745|1.92|α TrA|352|739|5.33|BSC 7221|416|738|4.78|ζ Aps|359|734|4.44|κ Pav|438|737|5.13|BSC 6204|319|735|5.31|μ2 Pav|295|738|5.15|υ Pav|292|735|3.42|β Pav|314|733|3.56|δ Pav|365|724|4.79|BSC 7012|404|724|3.62|η Pav|455|726|5.27|ι TrA|464|725|3.85|δ TrA|390|719|4.35|π Pav|478|726|2.85|β TrA|375|713|4.64|ν Pav|360|713|4.22|λ Pav|389|712|5.49|ι Pav|459|715|5.2|BSC 6125|286|715|4.88|ρ Pav|380|710|4.36|ξ Pav|510|720|5.09|δ Cir|418|708|3.62|δ Ara|286|711|4.76|φ1 Pav|283|711|5.12|φ2 Pav|510|717|5.46|BSC 5680|355|705|5.14|ω Pav|308|704|5.13|BSC 7625|510|712|4.51|γ Cir|316|702|5.42|BSC 7531|450|703|3.76|η Ara|311|701|5.26|BSC 7587|516|710|4.07|β Cir|268|703|3.65|β Ind|486|701|4.63|ι1 Nor|214|703|4.69|ε Ind|286|694|1.94|Peacock|426|690|3.34|γ Ara|315|690|5.35|ν Tel|386|687|5.33|BSC 6819|447|689|3.13|ζ Ara|427|686|2.85|β Ara|213|694|4.4|δ Ind|252|688|5.16|μ Ind|485|686|4.94|κ Nor|418|682|5.25|π Ara|333|681|5.05|η Tel|484|682|5.44|BSC 6055|194|691|5.37|BSC 8501|238|683|4.39|θ Ind|447|677|5.29|ε2 Ara|450|677|4.06|ε1 Ara|352|675|4.87|λ Tel|295|676|4.94|ξ Tel|549|685|5.38|BSC 5556|557|685|5.21|BSC 5495|517|679|5.44|BSC 5798|345|672|5.16|ρ Tel|357|671|5.17|κ Tel|538|680|3.41|ζ Lup|264|674|4.51|η Ind|414|670|5.15|μ Ara|257|673|5.05|ι Ind|164|684|3.49|ε Gru|430|666|5.23|κ Ara|574|677|4.42|ς Lup|487|666|4.02|γ2 Nor|396|663|3.66|θ Ara|490|666|4.99|γ1 Nor|426|662|2.95|α Ara|486|664|5.33|BSC 6083|579|673|5.37|BSC 5413|573|672|4.05|ρ Lup|419|660|4.77|λ Ara|503|663|4.65|η Nor|377|658|4.13|ζ Tel|547|665|3.87|κ1 Lup|378|654|5.46|BSC 6894|318|655|4.9|ι Tel|540|660|5|ν1 Lup|543|660|4.27|μ Lup|484|654|4.47|ε Nor|435|652|5.25|ι Ara|575|661|2.3|α Lup|495|654|5.14|θ Nor|262|653|3.11|α Ind|556|657|4.72|π Lup|556|657|4.82|π Lup|183|658|1.74|Alnair|154|661|2.1|β Gru|536|654|5.24|BSC 5742|439|649|5.48|BSC 6416|425|648|4.59|1ς Ara|484|649|5.35|BSC 6131|250|649|4.89|ζ Ind|582|656|5.41|BSC 5450|598|657|3.55|ι Lup|379|645|3.51|α Tel|393|645|4.53|ε Tel|374|645|4.96|δ1 Tel|433|645|5.29|BSC 6477|374|644|5.07|δ2 Tel|614|657|4.34|υ2 Cen|334|644|5.4|BSC 7289|594|653|4.35|τ2 Lup|590|652|5.5|BSC 5412|557|649|4.05|λ Lup|594|652|4.56|τ1 Lup|599|653|4.77|BSC 5364|506|645|4.72|δ Nor|534|645|4.54|BSC 5781|619|653|3.87|υ1 Cen|327|641|4.29|Arkab Posterior|546|645|3.37|ε Lup|530|644|4.64|BSC 5825|449|640|5.08|BSC 6371|262|641|5.11|ν Mic|555|645|4.82|BSC 5651|327|639|4.01|Arkab Prior|534|643|5.43|BSC 5784|406|639|4.86|BSC 6675|389|638|5.46|BSC 6818|436|638|5.12|BSC 6460|381|638|5.25|BSC 6875|483|639|4.94|μ Nor|248|639|5.11|ι Mic|157|644|4.11|δ2 Gru|358|636|5.49|η1 CrA|576|642|4.32|ο Lup|124|647|4.28|θ Gru|157|643|3.97|δ1 Gru|448|635|3.33|η Sco|367|634|5.37|BSC 6991|571|639|2.68|β Lup|425|633|1.87|Sargas|482|634|5.47|BSC 6164|351|632|5.36|BSC 7122|498|633|5.45|λ Nor|536|634|4.33|ω Lup|633|642|3.04|μ Cen|466|631|4.73|ζ1 Sco|465|631|3.62|ζ2 Sco|373|630|4.64|θ CrA|593|636|2.31|η Cen|572|634|3.13|κ Cen|626|639|3.83|φ Cen|345|629|4.75|ζ CrA|295|629|4.13|ι Sgr|487|629|5.33|BSC 6142|466|629|5.45|BSC 6260|517|630|4.99|BSC 5943|406|628|4.88|BSC 6682|635|638|3.41|ν Cen|164|633|5.1|μ2 Gru|558|630|5.16|BSC 5667|139|633|4.85|ρ Gru|165|631|4.79|μ1 Gru|392|626|5.47|BSC 6804|469|626|5.22|BSC 6245|622|633|4.36|χ Cen|204|628|5.29|ξ Gru|541|628|2.78|γ Lup|568|629|5.15|BSC 5607|214|626|4.82|θ1 Mic|554|626|3.22|δ Lup|324|623|3.97|Rukbat|339|623|4.59|δ CrA|359|622|5.24|μ CrA|416|621|3.03|ι1 Sco|414|621|4.81|ι2 Sco|297|620|5.33|BSC 7552|238|621|5.35|BSC 7987|553|622|5.37|υ Lup|374|619|5.16|BSC 6942|361|619|5.43|BSC 7031|170|622|4.46|λ Gru|610|623|4.42|BSC 5378|220|620|5.26|BSC 8104|475|618|5.48|BSC 6221|337|618|4.11|β CrA|245|618|5.5|BSC 7933|497|618|5.4|BSC 6094|127|622|5.42|BSC 8685|148|621|5.47|ν Gru|422|617|2.41|κ Sco|554|617|4.6|BSC 5724|383|615|5.1|BSC 6862|428|615|4.29|BSC 6546|228|616|5.3|ζ Mic|517|616|4.89|BSC 5967|521|615|3.41|η Lup|174|616|5.5|BSC 8379|362|614|5.13|λ CrA|471|613|3.08|μ1 Sco|471|613|3.57|μ2 Sco|285|612|4.77|BSC 7652|337|612|4.11|Alfecca Meridiana|616|615|4.05|ψ Cen|586|613|5.03|BSC 5543|596|614|4|BSC 5471|498|611|5.42|BSC 6100|539|611|5.24|BSC 5837|178|611|3.01|γ Gru|350|609|5.38|BSC 7129|434|609|2.69|Lesath|175|610|5.46|BSC 8366|348|608|4.87|ε CrA|431|608|1.63|Shaula|340|608|4.93|γ CrA|340|608|4.99|γ CrA|415|608|3.21|BSC 6630|558|608|4.54|φ2 Lup|516|607|4.23|θ Lup|554|608|5.45|BSC 5736|388|607|3.11|η Sgr|383|607|5.34|BSC 6870|632|608|2.06|Menkent|560|605|3.56|φ1 Lup|651|608|5.15|BSC 5174|276|604|5.32|BSC 7703|362|602|4.87|BSC 7029|287|601|4.37|θ1 Sgr|488|601|4.16|BSC 6166|598|601|4.92|BSC 5489|599|601|4.05|BSC 5485|106|599|5.11|π PsA|542|598|4.75|4ψ 2Lup|494|598|4.23|BSC 6143|286|598|5.3|θ2 Sgr|653|598|4.19|2 Cen|545|597|4.67|3ψ 1Lup|382|597|1.85|Kaus Australis|475|596|2.29|26 ε Sco|461|596|4.87|BSC 6334|159|595|4.99|υ PsA|157|595|5.37|BSC 8444|529|595|5.12|ξ1 Lup|589|594|5.32|BSC 5558|236|594|4.9|α Mic|535|593|3.95|5χ Lup|245|593|5.47|BSC 7893|469|592|5.48|27 Sco|659|590|4.23|1 Cen|181|590|4.34|9ι PsA|372|591|5.28|BSC 6960|653|590|4.56|3 Cen|375|591|5.34|BSC 6936|157|590|4.5|14 μ PsA|114|589|4.46|22 γ PsA|584|588|5.44|BSC 5595|155|588|4.92|15 τ PsA|110|587|4.21|23 δ PsA|87|587|4.41|γ Scl|133|586|4.29|17 β PsA|218|587|5.18|BSC 8076|223|587|4.67|γ Mic|207|586|4.71|ε Mic|465|587|5.03|BSC 6316|65|585|5.31|μ Scl|281|587|4.99|BSC 7659|654|584|4.73|4 Cen|417|586|4.83|BSC 6628|573|583|4.91|1 Lup|341|583|5.5|BSC 7211|509|581|5.49|BSC 6077|175|580|5.01|10 θ PsA|401|581|2.99|Nash|407|580|5.16|BSC 6693|572|576|4.34|2 Lup|343|578|2.6|Ascella|440|578|4.29|45 Oph|385|578|2.7|Kaus Meridionalis|551|575|3.66|40 τ Lib|103|572|1.16|Fomalhaut|402|577|4.69|γ1 Sgr|623|572|4.97|52 Hya|518|574|5.13|BSC 6017|533|573|3.88|5ρ Sco|511|571|4.78|BSC 6070|399|572|4.57|BSC 6766|159|568|5.42|12 η PsA|493|570|2.82|23 τ Sco|445|571|5.35|43 Oph|554|568|3.58|39 υ Lib|557|567|5.15|36 Lib|602|565|4.41|58 Hya|518|568|4.59|13 Sco|420|570|4.54|3 Sgr|145|564|5.43|16 λ PsA|630|562|4.77|51 Hya|280|568|4.58|62 Sgr|338|569|3.32|40 τ Sgr|207|566|5.42|BSC 8110|651|560|5.48|BSC 5265|641|559|5.08|50 Hya|286|566|4.52|Terebellum|117|559|4.17|18 ε PsA|388|566|4.65|BSC 6842|360|566|3.17|27 φ Sgr|229|563|4.11|18 ω Cap|648|556|3.27|49 π Hya|453|564|5.11|36 Oph|453|564|5.07|36 Oph|501|562|0.96|Antares|523|561|5.38|BSC 6001|287|562|4.7|Terebellum|350|563|2.02|Nunki|284|562|4.83|60 Sgr|533|559|2.89|6π Sco|606|555|5.24|56 Hya|528|558|5|BSC 5969|541|557|4.64|1 Sco|510|558|2.89|Alniyat|609|552|4.94|54 Hya|378|560|2.81|Kaus Borealis|539|555|4.59|2 Sco|590|552|3.29|Brachium|234|556|4.14|16 ψ Cap|328|559|4.85|42 ψ Sgr|501|556|4.79|22 Sco|212|554|4.5|24 Cap|447|557|3.27|42 θ Oph|658|546|5.15|47 Hya|306|557|4.6|52 Sgr|534|553|5.43|BSC 5942|631|547|5.32|BSC 5390|601|549|5.3|12 Lib|539|552|5.39|BSC 5906|318|555|5.03|47 χ1Sgr|451|554|5.2|39 ο Oph|404|555|5.34|7 Sgr|443|554|4.17|44 Oph|511|551|4.55|19 ο Sco|372|554|5.49|24 Sgr|539|549|5.42|BSC 5907|437|553|4.81|51 Oph|318|553|5.43|49 χ3Sgr|554|548|4.96|42 Lib|408|553|4.76|4 Sgr|87|539|4.47|86 Aqr|395|553|4.98|11 Sgr|506|549|5.02|5ρ Oph|690|534|4.97|BSC 5080|175|544|5.24|41 Cap|701|532|3|46 γ Hya|712|531|4.95|45 ψ Hya|351|549|4.83|Ain Al Rami|350|548|4.99|35 ν2Sgr|533|543|2.32|Dschubba|82|532|4.69|89 Aqr|190|541|3.74|34 ζ Cap|579|539|5.5|BSC 5678|359|547|5.37|28 Sgr|188|538|4.51|36 Cap|339|544|3.77|39 ο Sgr|393|544|5.44|14 Sgr|425|544|4.87|58 Oph|132|532|5.13|47 Aqr|500|540|4.45|9ω Oph|209|537|5.3|25 χ Cap|82|525|3.66|88 Aqr|449|541|4.39|40 ξ Oph|347|542|3.51|37 ξ2Sgr|139|530|5.32|41 Aqr|393|542|3.86|13 μ Sgr|334|541|2.89|Albaldah|56|520|4.71|10 1 Aqr|527|536|4.32|10 ω2Sco|192|534|5.41|33 Cap|392|540|5.38|15 Sgr|118|526|5.2|59 υ Aqr|527|535|3.96|9ω 1Sco|347|540|5.08|36 ξ1Sgr|201|534|5.24|28 φ Cap|64|520|4.39|99 Aqr|381|539|4.81|21 Sgr|355|538|5.24|29 Sgr|542|532|5.03|45 λ Lib|67|517|3.97|98 Aqr|509|533|4.5|4ψ Oph|708|512|5.22|57 Vir|710|512|5.33|55 Vir|213|531|4.84|22 η Cap|529|531|2.62|Graffias|529|531|4.92|8β 2Sco|585|527|4.54|24 ι1Lib|295|535|4.86|56 Sgr|554|529|4.74|43 κ Lib|103|519|5.26|68 Aqr|178|526|4.68|39 ε Cap|522|530|4.01|Jabbah|557|527|5.38|41 Lib|260|531|5.28|7ς Cap|325|532|4.96|43 Sgr|36|505|5.18|10 8 Aqr|172|523|4.73|43 κ Cap|107|516|4.69|66 Aqr|41|505|5.29|10 7 Aqr|507|527|4.42|7χ Oph|374|531|5.14|BSC 6944|706|503|4.74|61 Vir|43|503|5.24|10 6 Aqr|251|526|5.25|10 π Cap|646|512|5.43|BSC 5332|238|525|5.1|15 υ Cap|673|507|4.97|89 Vir|46|502|5.34|10 3 Aqr|198|521|5.43|30 Cap|676|505|5.43|87 Vir|321|528|3.93|44 ρ1Sgr|45|501|4.82|10 4 Aqr|250|524|4.78|11 ρ Cap|491|524|4.96|BSC 6196|702|500|5.37|63 Vir|22|493|4.55|2 Cet|210|519|4.07|23 θ Cap|564|515|5.5|35 ζ4Lib|193|515|4.28|32 ι Cap|542|516|4.15|46 θ Lib|174|513|3.68|Nashira|503|519|4.28|8φ Oph|535|516|5.47|49 Lib|652|501|4.91|BSC 5301|593|509|5.2|21 ν Lib|714|489|5.04|53 Vir|166|509|2.87|Deneb Algedi|299|520|5.06|55 Sgr|609|506|2.75|Zuben Elgenubi|610|505|5.15|8α 1Lib|698|491|4.76|69 Vir|321|520|4.61|46 υ Sgr|387|520|5.39|BSC 6858|94|498|3.27|Skat|461|517|2.43|Sabik|553|510|5.41|44 η Lib|350|519|5.1|BSC 7119|282|516|5.02|61 Sgr|297|517|5.49|BSC 7496|43|486|5.28|BSC 8987|432|517|3.54|55 ξ Ser|199|509|5.28|29 Cap|64|488|5.2|97 Aqr|238|511|5.22|14 τ Cap|373|516|5.5|BSC 6959|562|505|3.91|Zuben Elakrab|257|512|3.08|Dabih Major|377|515|4.7|γ Sct|43|481|4.49|10 5ω2Aqr|304|512|5.47|BSC 7454|538|506|4.88|48 Lib|46|480|5|10 2ω1Aqr|612|496|5.31|7μ Lib|171|500|5.18|42 Cap|145|496|4.27|33 ι Aqr|99|487|4.01|71 τ2Aqr|159|496|5.08|51 μ Cap|68|480|5.08|94 Aqr|644|487|4.52|10 0λ Vir|190|497|5.49|18 Aqr|428|507|4.26|56 ο Ser|450|506|4.33|53 ν Ser|134|489|5.34|42 Aqr|258|503|4.76|Alshat|700|472|5.25|68 Vir|260|502|3.57|Secunda Giedi|261|502|4.24|Prima Giedi|522|496|5.22|17 χ Sco|140|484|5.46|38 Aqr|604|484|5.46|15 ξ2Lib|532|493|5.07|ξ Sco|532|493|4.77|Grafias|205|492|4.51|13 ν Aqr|701|463|0.98|Spica|371|500|5.14|BSC 6970|483|495|4.65|20 Oph|289|496|5.39|51 Aql|720|455|5.19|49 Vir|119|476|4.82|57 ς Aqr|497|493|2.56|13 ζ Oph|306|496|5.12|37 Aql|19|451|4.94|3 Cet|575|483|4.94|31 ε Lib|651|470|4.19|98 κ Vir|693|459|5.21|76 Vir|564|483|4.62|37 Lib|524|488|4.94|15 ψ Sco|409|494|3.34|64 ν Oph|68|459|4.98|95 ψ3Aqr|734|444|4.79|40 ψ Vir|229|486|3.77|Albali|582|478|2.61|Zuben Elschemali|657|463|5.46|95 Vir|564|479|5.17|BSC 5780|69|457|4.39|93 ψ2Aqr|71|457|4.21|91 ψ1Aqr|167|476|5.09|46 Cap|363|492|4.72|δ Sct|223|483|4.73|6μ Aqr|383|491|4.68|ζ Sct|684|453|5.01|82 Vir|524|481|5.43|16 Sco|599|471|4.92|Zuben Elakribi|507|482|4.63|3υ Oph|520|481|5.5|18 Sco|362|488|4.9|ε Sct|370|488|3.85|α Sct|405|488|5.24|69 τ Oph|432|486|4.62|57 μ Oph|330|486|5.34|20 Aql|175|472|4.69|23 ξ Aqr|130|464|5.37|46 ρ Aqr|134|464|4.16|Ancha|10|431|5.12|BSC 46|70|449|5.06|92 χ Aqr|83|452|5.43|83 Aqr|507|479|5.23|BSC 6128|96|455|3.74|73 λ Aqr|304|481|4.95|39 κ Aql|633|456|5.42|10 6 Vir|693|437|4.69|74 Vir|478|475|5.25|23 Oph|73|441|4.22|90 φ Aqr|24|425|4.41|30 Psc|647|448|4.08|Syrma|347|478|4.83|η Sct|342|477|4.02|12 Aql|20|421|4.61|33 Psc|357|477|5.2|BSC 7066|618|453|3.88|Rijl Al Awwa|182|462|2.91|Sadalsuud|716|425|4.38|51 θ Vir|322|475|5.01|26 Aql|444|473|4.54|BSC 6493|229|466|4.42|3 Aqr|337|474|3.44|16 λ Aql|358|474|4.22|β Sct|517|465|3.24|Yed Posterior|304|471|5.46|42 Aql|603|450|4.49|16 Lib|113|442|5.03|Situla|471|468|4.82|30 Oph|411|470|5.47|BSC 6686|339|470|5.42|15 Aql|341|469|5.42|14 Aql|521|460|2.74|Yed Prior|407|469|4.62|57 ζ Ser|189|454|5.49|21 Aqr|29|411|4.86|27 Psc|525|459|5.37|BSC 6016|547|455|3.53|32 μ Ser|545|454|5.11|36 Ser|26|407|5.1|29 Psc|385|466|3.26|58 η Ser|249|459|4.91|69 Aql|311|464|5.03|36 Aql|40|411|5.49|20 Psc|241|457|4.89|70 Aql|608|439|4.94|11 Lib|641|430|5.14|10 2υ Vir|632|432|4.81|10 5φ Vir|150|440|4.69|31 ο Aqr|376|462|5.39|60 Ser|550|448|5.4|25 Ser|667|418|5.15|90 Vir|741|389|3.65|Porrima|741|389|3.68|29 γ Vir|131|432|3.84|Sadalachbia|305|457|4.36|41 ι Aql|240|450|4.32|71 Aql|439|456|5.31|BSC 6516|266|453|5.47|66 Aql|149|434|5.3|32 Aqr|322|456|5.49|27 Aql|268|452|3.23|65 θ Aql|686|407|3.37|Heze|454|453|4.73|41 Oph|148|430|2.96|Sadalmelik|117|422|4.02|62 η Aqr|124|423|4.59|55 ζ1Aqr|124|423|4.42|55 ζ2Aqr|379|453|5.21|59 Ser|441|450|5.44|BSC 6507|316|451|4.66|32 ν Aql|239|443|5.16|1 Aqr|504|443|5.39|BSC 6136|575|431|5.35|6 Ser|93|409|5.43|2 Psc|289|446|3.9|55 η Aql|511|441|4.82|50 ς Ser|325|448|5.1|23 Aql|65|397|4.94|8κ Psc|406|448|4.45|68 Oph|129|417|4.66|52 π Aqr|657|405|4.26|93 τ Vir|577|426|5.06|5 Ser|51|388|4.5|18 λ Psc|567|428|5.17|10 Ser|611|417|3.72|10 9 Vir|502|438|3.82|Marfic|360|445|5.02|4 Aql|594|420|4.4|11 0 Vir|85|399|5.4|5 Psc|544|430|5.23|34 ω Ser|177|425|5.1|25 Aqr|330|443|5.15|21 Aql|645|404|5.01|BSC 5313|402|443|4.03|70 Oph|420|442|3.75|62 γ Oph|407|441|3.97|67 Oph|318|439|3.36|30 δ Aql|77|390|3.69|6γ Psc|386|440|4.86|74 Oph|721|367|3.38|Auva|49|377|5.04|19 Psc|674|388|5.36|84 Vir|683|383|4.94|78 Vir|91|392|4.53|Fum Al Samakah|443|434|4.34|49 ς Oph|348|436|4.98|63 θ2Ser|348|436|4.62|Alya|220|423|5.23|1ε Equ|407|435|4.64|66 Oph|126|401|5.48|37 Peg|542|420|3.71|37 ε Ser|425|434|2.77|Cebalrai|129|400|4.79|35 Peg|579|410|5.33|3 Ser|519|422|5.48|9 Her|152|405|4.84|22 ν Peg|483|426|5.24|45 Her|203|416|3.92|Kitalpha|258|424|5.31|BSC 7794|77|378|5.05|7 Psc|304|429|5.17|44 ς Aql|697|366|4.8|60 ς Vir|58|368|4.13|17 ι Psc|176|408|5.3|7 Peg|137|397|5.37|30 Peg|630|391|5.1|BSC 5392|335|428|5.22|19 Aql|148|398|3.53|Baham|71|369|4.28|10 θ Psc|287|423|3.71|Alshain|548|410|2.65|Unukalhai|369|426|5.45|BSC 6987|197|407|5.16|10 β Equ|41|352|4.01|28 ω Psc|479|418|5.49|47 Her|387|424|5.39|BSC 6857|545|406|4.43|27 λ Ser|309|421|4.45|38 μ Aql|723|337|5.22|32 Vir|610|386|4.86|31 Boo|24|332|5.37|41 Psc|628|378|5.12|BSC 5386|289|414|4.71|59 ξ Aql|484|411|5.15|43 Her|92|365|5.12|57 Peg|90|364|5.16|59 Peg|399|417|4.64|71 Oph|106|370|4.9|50 ρ Peg|292|413|0.77|Altair|369|416|5.39|BSC 6985|471|409|3.2|27 κ Oph|95|363|4.52|55 Peg|691|345|5.22|59 Vir|399|414|3.73|72 Oph|93|359|5.39|58 Peg|110|367|5.16|49 ς Peg|177|388|2.39|Enif|207|395|4.49|7δ Equ|553|392|5.26|16 Ser|243|401|5.05|7κ Del|634|367|5.29|15 Boo|212|395|4.69|5γ Equ|475|406|4.38|25 ι Oph|721|320|4.88|30 ρ Vir|62|341|5.06|77 Peg|293|406|5.11|54 ο Aql|555|390|3.8|13 δ Ser|555|390|3.8|13 δ Ser|456|406|5.33|37 Oph|298|406|2.72|Tarazed|122|366|3.4|Homam|224|395|5.48|18 Del|449|405|5.03|BSC 6433|55|333|5.3|82 Peg|702|329|2.83|Vindemiatrix|338|407|5.09|18 Aql|250|397|4.03|Deneb Dulfim|245|396|5.43|5ι Del|288|402|5.28|61 φ Aql|496|397|4.84|29 Her|327|404|5.28|25 ω1Aql|302|401|5.27|47 χ Aql|320|402|5.16|31 Aql|10|293|5.5|58 Psc|119|357|4.19|46 ξ Peg|143|366|5.01|31 Peg|84|341|5.08|66 Peg|432|399|2.08|Rasalhague|462|396|4.91|60 Her|80|336|4.55|70 Peg|546|381|5.33|20 χ Ser|626|355|5.41|18 Boo|250|390|5.38|3η Del|346|397|5.23|11 Aql|682|323|5.33|BSC 5013|229|383|5.17|17 Del|604|359|4.83|30 ζ Boo|604|359|4.43|30 ζ Boo|672|328|4.98|70 Vir|340|395|2.99|17 ζ Aql|501|385|4.57|Kajam|464|390|4.98|BSC 6337|452|390|5.39|64 α2Her|452|390|3.48|Rasalgethi|248|382|3.63|Rotanev|250|382|4.68|4ζ Del|731|277|5.1|6 Com|346|391|4.02|Deneb|242|379|4.43|11 δ Del|535|373|5.2|BSC 5894|46|298|2.83|Algenib|271|383|4.95|67 ρ Aql|106|335|2.49|Markab|539|371|3.67|28 β Ser|559|365|5.17|9τ 1Ser|20|274|5.38|57 Psc|529|372|3.85|41 γ Ser|649|328|4.07|5υ Boo|247|376|3.77|Sualocin|240|374|4.27|12 γ2Del|240|374|5.14|12 γ1Del|621|339|4.86|20 Boo|601|347|4.94|29 π1Boo|702|289|5.12|27 Com|290|380|5.36|10 Sge|406|383|4.67|93 Her|23|264|5.07|64 Psc|596|346|4.6|35 ο Boo|516|368|5|Marfik|179|353|5.29|13 Peg|185|355|4.34|9 Peg|348|381|5.38|BSC 7165|690|293|4.78|36 Com|648|319|4.5|4τ Boo|305|378|4.37|6β Sge|287|375|5.37|13 Sge|680|299|5.22|Diadem|680|299|5.22|42 α Com|719|265|4.74|11 Com|522|364|5.12|5 Her|383|380|5.25|BSC 6885|41|274|5.06|47 Psc|307|375|4.37|Sham|445|375|5|BSC 6452|534|359|4.09|35 κ Ser|359|378|4.36|11 1 Her|706|272|5.02|24 Com|640|318|2.68|Mufrid|469|371|5.35|54 Her|300|373|3.82|7δ Sge|587|338|4.55|37 ξ Boo|73|291|5.08|81 φ Peg|298|370|5|8ζ Sge|501|362|3.75|20 γ Her|619|324|-0.04|Arcturus|610|328|5.39|22 Boo|194|348|5.45|5 Peg|289|367|3.47|12 γ Sge|539|351|4.52|21 ι Ser|313|369|5|9 Vul|322|369|5.16|4 Vul|209|350|4.08|1 Peg|283|364|5.1|16 η Sge|397|370|5.1|10 1 Her|58|272|4.8|89 χ Peg|45|259|5.38|52 Psc|526|351|5.44|BSC 5924|492|358|5.25|BSC 6152|361|368|4.19|11 0 Her|123|312|5.49|51 Peg|397|367|4.36|10 2 Her|403|366|5.28|96 Her|468|360|5.41|BSC 6287|529|347|4.76|38 ρ Ser|695|261|5.46|26 Com|252|354|4.82|29 Vul|684|270|4.9|35 Com|638|302|4.91|6 Boo|331|363|4.77|1 Vul|354|364|5.48|11 2 Her|44|248|5.36|55 Psc|491|354|2.77|Kornephoros|403|363|5.18|95 Her|403|363|4.96|95 Her|382|363|3.84|10 9 Her|385|362|4.95|10 6 Her|399|361|5.06|98 Her|234|345|5.31|33 Vul|97|286|5.32|71 Peg|298|355|4.95|12 Vul|693|251|4.81|23 Com|352|359|4.59|11 3 Her|516|342|4.83|44 π Ser|191|329|5.29|12 Peg|330|356|5.43|2 Vul|383|357|5.41|BSC 6882|106|286|4.4|68 υ Peg|39|224|4.42|38 η And|275|348|5.15|22 Vul|138|304|3.95|47 λ Peg|284|349|5.07|17 Vul|42|225|5.47|36 And|206|331|4.57|2 Peg|110|287|4.6|Salm|701|230|4.95|7 Com|297|349|4.58|13 Vul|692|239|5.48|18 Com|254|341|5.04|28 Vul|49|228|4.06|34 ζ And|386|352|5.27|10 5 Her|441|348|5.12|70 Her|689|238|5.46|21 Com|138|298|3.48|48 μ Peg|469|344|5.04|51 Her|320|349|4.44|Anser|275|343|5.32|24 Vul|447|346|3.14|Sarin|564|318|4.93|45 Boo|289|344|5.22|16 Vul|568|315|4.81|41 ω Boo|612|294|4.83|12 Boo|86|259|4.66|84 ψ Peg|250|335|4.91|30 Vul|176|312|3.76|24 ι Peg|126|286|4.76|56 Peg|441|344|5.38|BSC 6455|277|339|4.78|BSC 7739|415|346|5.12|87 Her|196|318|4.13|10 κ Peg|307|343|5.49|10 Vul|690|226|4.81|12 Com|686|230|5.29|17 Com|516|328|2|Blaze Star|189|314|5.08|16 Peg|408|344|5.46|89 Her|524|325|4.63|10 δ CrB|688|226|5.18|13 Com|431|342|4.41|Maasym|348|344|5.27|BSC 7181|326|342|5.18|3 Vul|530|322|3.84|8γ CrB|582|302|4.81|34 Boo|361|343|4.83|BSC 7064|537|318|2.23|Alphekka|281|334|5.49|19 Vul|684|225|5|16 Com|516|324|4.15|13 ε CrB|563|308|4.54|43 ψ Boo|579|300|2.7|Izar|579|300|5.12|36 ε Boo|245|326|4.59|31 Vul|683|222|4.95|14 Com|618|277|5.01|9 Boo|665|239|4.94|31 Com|214|314|5.41|35 Vul|654|249|4.8|41 Com|416|337|3.42|86 μ Her|292|332|4.64|15 Vul|279|330|4.52|23 Vul|650|250|4.26|43 β Com|320|335|3.08|Albireo|320|335|5.11|6β 2Cyg|244|321|5.01|32 Vul|134|276|2.42|Scheat|678|218|4.36|15 γ Com|169|293|4.81|32 Peg|281|326|5.18|21 Vul|201|305|4.73|78 μ1Cyg|396|334|3.83|10 3ο Her|384|333|5.12|10 7 Her|61|197|5.42|68 Psc|91|234|2.06|Alpheratz|539|306|3.68|Nusakan|550|301|5.26|48 χ Boo|405|331|3.7|92 ξ Her|155|280|4.79|43 ο Peg|73|211|4.37|30 ε And|412|330|5.5|BSC 6654|108|248|4.93|78 Peg|317|328|5.38|9 Cyg|327|328|4.97|2 Cyg|582|284|4.46|28 ς Boo|79|216|5.23|28 And|509|312|4.99|14 ι CrB|59|181|4.51|83 τ Psc|313|325|4.69|12 φ Cyg|199|297|5.04|14 Peg|404|327|4.41|94 ν Her|156|276|2.94|Matar|230|307|3.2|64 ζ Cyg|269|316|4.01|41 Cyg|583|280|3.58|25 ρ Boo|373|327|5.48|BSC 6968|397|326|5.04|99 Her|255|312|4.22|52 Cyg|649|230|4.9|37 Com|79|204|3.27|31 δ And|490|312|4.85|19 ξ CrB|456|319|3.92|58 ε Her|296|319|5.49|BSC 7640|121|245|4.98|72 Peg|531|298|4.14|4θ CrB|392|323|4.97|10 4 Her|65|176|5.16|82 Psc|472|313|2.81|40 ζ Her|462|314|5.32|53 Her|71|181|5.5|69 ς Psc|131|250|5.32|64 Peg|349|319|4.93|15 λ Lyr|275|310|4.43|39 Cyg|437|315|5.39|72 Her|343|317|5.23|17 Lyr|358|318|5.25|9ν 2Lyr|350|317|3.24|Sulafat|352|316|5.22|BSC 7162|305|312|4.23|χ Cyg|538|288|5.37|50 Boo|665|189|5|BSC 4668|440|312|4.82|68 Her|188|277|4.29|29 π2Peg|656|201|5.42|BSC 4783|505|297|5.41|15 ρ CrB|542|284|3.47|49 δ Boo|358|315|3.45|Sheliak|251|298|5.47|BSC 8005|370|314|5.42|BSC 6997|453|308|5.25|59 Her|486|300|5.39|21 ν2CrB|91|194|4.36|29 π And|309|309|4.99|17 Cyg|486|300|5.2|20 ν1CrB|258|298|2.46|Gienah Cygni|675|155|5.33|61 UMa|532|283|5.46|BSC 5741|258|296|4.92|BSC 7956|603|244|4.74|BSC 5219|322|307|4.74|8 Cyg|189|269|5.33|BSC 8475|233|286|4.43|66 υ Cyg|283|299|5.17|35 Cyg|302|302|3.89|21 η Cyg|270|295|4.61|47 Cyg|98|186|5.48|BSC 157|581|252|4.81|BSC 5361|85|160|2.06|Mirach|509|285|4.82|11 κ CrB|628|212|5.25|14 CVn|445|299|5.39|BSC 6377|294|297|5.36|27 Cyg|384|303|4.33|1κ Lyr|344|302|5.28|18 ι Lyr|607|229|4.82|25 CVn|328|300|5.15|4 Cyg|394|302|5.48|BSC 6793|494|286|4.76|16 τ CrB|260|287|4.53|54 λ Cyg|517|277|5.07|7ζ 2CrB|113|194|4.52|25 ς And|288|292|4.97|29 Cyg|439|296|3.16|67 π Her|292|293|4.93|28 Cyg|355|300|4.3|12 δ2Lyr|300|293|5.19|25 Cyg|229|274|5.31|70 Cyg|431|295|4.52|75 ρ Her|431|295|5.47|75 ρ Her|606|224|4.98|BSC 5110|404|298|3.86|91 θ Her|553|258|5.48|BSC 5541|436|294|4.65|69 Her|313|294|4.89|15 Cyg|528|270|4.31|Alkalurops|363|297|4.36|6ζ 1Lyr|194|255|4.13|1 Lac|502|276|5.45|12 λ CrB|116|188|5.18|27 ρ And|286|286|4.81|34 Cyg|241|274|3.72|65 τ Cyg|337|293|4.36|21 θ Lyr|564|247|3.03|Seginus|624|196|2.9|Cor Caroli|305|288|4.94|22 Cyg|103|160|3.87|37 μ And|226|266|4.9|72 Cyg|594|225|5.5|BSC 5186|121|188|4.61|24 θ And|309|288|5.12|19 Cyg|248|273|5.21|61 Cyg|370|292|0.03|Vega|463|282|3.53|44 η Her|516|266|5.11|6μ CrB|635|173|5.02|6 CVn|181|240|4.88|10 Lac|340|289|4.39|Aladfar|148|213|5.22|14 And|652|126|5.31|57 UMa|241|267|4.23|67 ς Cyg|114|168|5.33|32 And|380|289|5.12|Alathfar|525|260|5.5|BSC 5726|364|289|5.37|5ε 2Lyr|364|289|5.14|5ε 2Lyr|364|288|5.06|4ε 1Lyr|481|275|5.46|BSC 6091|200|248|4.49|BSC 8485|406|286|5.16|90 Her|608|200|4.92|BSC 4997|183|234|5.25|12 Lac|285|276|2.2|Sadr|512|261|5.24|54 φ Boo|290|277|5.24|BSC 7759|305|280|5.45|BSC 7628|538|250|3.5|Nekkar|228|257|5.01|74 Cyg|604|200|4.73|20 CVn|440|279|5.08|BSC 6388|516|257|5.02|52 ν1Boo|515|257|5.02|53 ν2Boo|118|156|4.53|35 ν And|225|252|5.49|BSC 8306|259|265|3.94|58 ν Cyg|622|169|4.26|Chara|107|117|4.09|50 υ And|356|280|5.44|BSC 7146|185|227|5.08|13 Lac|471|267|5.04|30 Her|176|216|3.62|1ο And|325|274|5.35|BSC 7444|466|266|4.2|35 ς Her|497|257|4.62|1χ Her|113|109|4.95|BSC 483|177|214|5.1|2 And|321|272|5.4|14 Cyg|625|141|5.21|67 UMa|198|227|4.51|6 Lac|494|254|5.37|2 Her|159|194|4.29|17 ι And|232|245|5.11|75 Cyg|185|217|4.94|15 Lac|393|272|5|BSC 6791|631|108|4.99|56 UMa|564|214|5.27|BSC 5299|258|252|3.72|62 ξ Cyg|126|132|5.03|41 And|249|248|5|68 Cyg|356|270|4.04|13 Lyr|269|255|5.04|56 Cyg|195|218|4.46|11 Lac|162|189|4.14|19 κ And|123|106|4.98|52 χ And|267|253|4.78|57 Cyg|141|159|5.17|BSC 104|543|225|5.39|33 Boo|138|153|5.13|BSC 152|325|264|5.17|BSC 7468|481|250|4.26|11 φ Her|219|229|5.14|BSC 8424|319|262|2.87|18 δ Cyg|269|250|5.45|BSC 8003|277|252|1.25|Deneb|130|113|4.83|48 ω And|600|162|4.99|BSC 4846|322|260|5.06|BSC 7495|132|117|4.88|Adhil|241|237|4.02|73 ρ Cyg|450|254|4.82|52 Her|413|260|3.8|85 ι Her|484|244|4.76|6υ Her|155|165|5.03|22 And|552|209|4.18|19 λ Boo|273|247|4.84|55 Cyg|265|244|5.37|60 Cyg|471|247|3.89|22 τ Her|186|198|5.33|4 And|167|178|4.95|20 ψ And|171|182|3.82|16 λ And|213|217|4.57|2 Lac|246|235|5.24|71 Cyg|299|251|3.79|31 Cyg|300|251|4.83|30 Cyg|352|258|5.01|16 Lyr|138|107|5.27|49 And|148|140|4.94|20 π Cas|143|122|4.25|42 φ And|268|238|4.74|59 Cyg|264|236|4.55|63 Cyg|519|221|4.76|44 Boo|212|209|4.36|5 Lac|299|247|3.98|32 Cyg|605|115|3.71|63 χ UMa|154|136|4.54|22 ο Cas|414|249|5.37|82 Her|188|184|5.44|11 And|147|97|3.57|51 And|199|194|5.43|BSC 8731|253|226|5.31|BSC 8216|454|240|4.9|42 Her|291|239|4.95|45 ω1Cyg|591|135|5.29|3 CVn|190|183|4.85|8 And|564|178|4.7|24 CVn|382|249|5.05|BSC 6891|290|238|5.44|Ruchba|242|218|4.23|81 π2Cyg|557|183|1.86|Alkaid|160|136|5.43|BSC 164|194|184|4.52|7 And|546|192|5.25|13 Boo|220|204|4.57|4 Lac|568|167|5.15|21 CVn|203|190|4.95|BSC 8726|201|186|4.65|3 And|312|239|5.05|26 Cyg|329|241|4.48|13 θ Cyg|218|199|3.77|7α Lac|285|231|5.39|51 Cyg|186|167|5.3|18 And|165|131|4.8|19 ξ Cas|354|243|5.38|BSC 7210|158|88|4.07|φ Per|359|242|4.92|BSC 7137|404|241|5.02|30 Dra|231|204|5.4|BSC 8463|166|125|4.89|25 ν Cas|249|212|4.67|Azelfafage|535|189|4.75|Asellus Secondus|183|154|4.8|BSC 9066|398|238|2.23|Etamin|219|192|4.63|9 Lac|578|130|4.8|5 CVn|335|236|3.79|10 ι2Cyg|535|186|4.54|Asellus Tertius|529|190|4.05|Asellus Primus|229|194|4.43|3β Lac|415|233|2.79|Rastaban|373|236|5.36|BSC 6983|318|230|4.92|24 ψ Cyg|546|167|5.46|82 UMa|450|223|5.08|17 Dra|322|228|5.03|20 Cyg|344|230|3.77|1κ Cyg|352|231|5.38|51 Dra|572|106|2.44|Phad|183|125|3.66|17 ζ Cas|185|125|5.08|BSC 144|180|69|5.04|4 Per|187|126|4.73|14 λ Cas|499|195|5.25|BSC 5635|568|64|5.1|44 UMa|539|161|4.66|83 UMa|470|208|4.95|BSC 5960|183|103|5.17|Marfak|544|153|3.95|79 ζ UMa|544|153|2.27|Mizar|544|153|4.01|Alcor|184|101|4.33|Marfak|412|221|4.87|Kuma|412|221|4.88|24 ν1Dra|188|117|5.42|BSC 196|367|222|5.04|46 Dra|563|97|5.27|BSC 4521|356|221|5.48|49 Dra|202|140|4.88|8ς Cas|191|54|5.17|9 Per|228|171|5.43|BSC 8688|549|135|1.77|Alioth|555|47|4.84|36 UMa|444|211|5.29|BSC 6199|545|137|4.93|78 UMa|558|67|2.37|Merak|196|116|2.23|Shedir|312|211|4.3|33 Cyg|439|209|4.85|BSC 6237|236|172|5.21|BSC 8621|249|181|5.24|BSC 8472|350|216|5.12|53 Dra|398|216|3.75|Grumium|228|163|5|BSC 8752|552|111|3.31|Megrez|248|179|4.19|23 ε Cep|374|216|4.77|45 Dra|550|50|5.16|37 UMa|211|137|4.54|7ρ Cas|326|209|5.14|23 Cyg|296|201|4.51|BSC 7955|349|212|4.99|54 Dra|201|108|3.44|Achird|253|177|3.35|21 ζ Cep|200|90|4.98|34 φ Cas|543|116|5.35|74 UMa|246|170|3.75|27 δ Cep|223|146|4.91|BSC 8926|460|194|4.01|13 θ Dra|218|138|4.87|5τ Cas|268|183|4.08|Garnet Star|379|209|4.98|39 Dra|326|204|4.96|BSC 7633|478|183|3.29|Ed Asich|206|103|4.83|26 υ1Cas|215|126|2.27|Caph|207|101|4.63|28 υ2Cas|206|81|4.71|39 χ Cas|492|173|5.46|BSC 5552|363|206|4.66|47 ο Dra|257|172|5.04|22 λ Cep|235|152|4.85|1 Cas|536|117|5.5|BSC 4800|449|192|5.4|BSC 6086|521|139|5.4|BSC 5085|211|84|2.68|Ruchbah|215|98|2.47|27 γ Cas|261|167|5.35|BSC 8479|533|80|5.48|BSC 4439|274|173|4.29|10 ν Cep|218|100|4.82|BSC 244|442|187|2.74|14 η Dra|528|64|1.79|Dubhe|225|112|5.4|12 Cas|304|184|3.43|3η Cep|405|194|5.23|26 Dra|325|190|5.39|66 Dra|280|172|4.73|9 Cep|234|127|5.43|6 Cas|269|164|5.11|19 Cep|241|137|4.98|4 Cas|290|174|2.44|Alderamin|458|175|5.19|BSC 5886|271|162|5.27|20 Cep|229|106|4.16|15 κ Cas|314|182|4.22|2θ Cep|272|161|5.29|18 Cep|261|149|5.19|30 Cep|277|161|4.91|BSC 8383|232|65|3.38|45 ε Cas|234|95|5.39|BSC 233|491|140|3.65|Thuban|383|185|5.03|36 Dra|259|22|5.23|BSC 1009|428|177|4.83|18 Dra|238|62|5.26|BSC 567|277|156|4.29|Alkurhah|494|134|4.65|10 Dra|331|179|5.27|64 Dra|296|166|5.18|6 Cep|271|147|5.46|26 Cep|420|177|4.89|19 Dra|503|112|5.24|8 Dra|377|181|4.82|42 Dra|499|44|4.97|BSC 4072|262|26|4.84|BSC 985|351|179|4.59|58 π Dra|414|176|3.17|Aldhibah|502|52|5.12|38 UMa|468|151|4.6|BSC 5589|268|137|3.52|32 ι Cep|497|111|5.32|9 Dra|502|79|5.3|3 Dra|497|106|5.43|7 Dra|298|157|5.44|7 Cep|467|14|5.14|11 ς1UMa|467|15|4.8|13 ς2UMa|268|130|5.24|BSC 8779|457|150|5.13|BSC 5691|258|49|4.52|ι Cas|461|14|4.76|8ρ UMa|356|171|3.07|Nodus Secundus|261|113|5.04|BSC 9013|437|159|5.44|BSC 6025|335|166|4.51|67 ρ Dra|268|123|4.75|34 ο Cep|255|75|4.74|36 ψ Cas|400|168|5.05|27 Dra|260|63|4.99|46 ω Cas|398|166|4.8|28 ω Dra|426|159|5|15 Dra|258|81|5.29|31 Cas|483|54|5|BSC 4181|428|156|5.25|BSC 6126|487|95|4.95|4 Dra|487|74|5.2|2 Dra|487|73|3.84|Gianfar|468|127|5.24|BSC 5334|349|162|4.68|Alsafi|483|95|3.87|5κ Dra|463|29|4.56|24 UMa|482|95|4.94|6 Dra|294|135|5.5|BSC 8474|344|158|3.83|Tyl|308|143|3.23|Alfirk|270|68|5.18|42 Cas|292|130|5.47|BSC 8557|298|25|5.44|BSC 1138|273|61|4.54|48 Cas|468|113|5.5|BSC 5139|366|156|4.82|52 υ Dra|307|138|4.56|11 Cep|301|26|4.63|γ Cam|379|157|4.22|43 φ Dra|442|135|5.02|Pherkad Minor|441|136|3.05|Pherkad|388|153|5.45|34 ψ2Dra|393|152|4.58|Dsiban|453|37|5.17|27 UMa|310|134|5.17|BSC 8324|302|129|4.79|24 Cep|282|61|3.98|50 Cas|378|151|3.57|44 χ Dra|289|50|5.16|BSC 743|283|69|5.28|40 Cas|308|128|5.03|16 Cep|359|147|4.45|60 τ Dra|301|119|5.08|31 Cep|412|18|5.41|BSC 3075|341|17|5.43|BSC 1643|370|145|5.27|BSC 7117|440|122|2.08|Kochab|304|43|4.87|BSC 932|292|83|5.41|23 Cas|337|135|5.2|73 Dra|455|84|5.38|BSC 4687|303|107|4.41|33 π Cep|370|139|5.35|50 Dra|439|113|4.25|5 UMi|446|56|4.84|BSC 4126|414|130|4.95|21 η UMi|415|129|5.48|19 UMi|302|62|5.22|49 Cas|364|134|5.13|59 Dra|386|132|5.04|35 Dra|384|25|4.55|BSC 2527|308|63|5.38|47 Cas|420|119|4.96|15 θ UMi|434|105|4.82|4 UMi|442|80|5.14|BSC 4646|310|96|3.21|Alrai|349|126|4.39|1κ Cep|322|48|5.45|BSC 961|416|119|4.32|16 ζ UMi|324|106|5.5|Al Kalb Al Rai|356|36|5.05|BSC 1686|327|54|5.49|BSC 881|399|39|5.42|BSC 3082|379|35|5.45|BSC 2401|347|112|5.39|BSC 8016|343|48|5.1|BSC 1230|347|47|5.43|BSC 1317|355|45|5.07|BSC 1523|410|56|4.29|BSC 3751|353|111|5.46|75 Dra|393|109|4.23|22 ε UMi|386|48|4.96|BSC 2742|411|65|5.26|BSC 4084|342|93|4.74|BSC 8702|355|55|5.46|BSC 1304|410|83|5.28|BSC 4893|402|68|5.5|BSC 4062|347|89|4.71|BSC 8748|357|88|5.27|BSC 8546|354|77|4.25|BSC 285|379|93|4.36|Yildun|379|67|5.07|BSC 2609|371|77|2.02|Polaris|"};


function initPage() {
	backgroundColor = $("#backgroundColor").val() != "" ? $("#backgroundColor").val() : backgroundColor;
	haloColor = $("#haloColor").val() != "" ? $("#haloColor").val() : haloColor;
	constColor = $("#constColor").val() != "" ? $("#constColor").val() : constColor;
	startsColor = $("#startsColor").val() != "" ? $("#startsColor").val() : startsColor;
	constNamefontColor = $("#constNamefontColor").val() != "" ? $("#constNamefontColor").val() : constNamefontColor;
	constNamefontStyle = $("#constNamefontStyle").val() != "" ? $("#constNamefontStyle").val() : constNamefontStyle;
	
	time = $("#time").val();
	var location = $("#location").val();
	
	if(time != "" && location != ""){
		time = time.replace('-','');
		time = time.replace('-','');
		time += "050000";
		getLocation(location);
	}
}

function startDrawing(){
    initDisplay();
    fetchConstData();
    fetchData();
}

function getLocation(location){
		$.ajax({
			  method: "GET",
			  url: URL_GOOGLEMAPS + "?address=" + location + "&key=" + API_KEY
			})
			  .done(function( msg ) {
				lat = msg.results[0].geometry.location.lat;
				lng = msg.results[0].geometry.location.lng;
				parameters_coord = "lat=" + lat + "&lng=" + lng + "&time=" + time;
				console.log( "Ubicacion y tiempo: " + parameters_coord );
				startDrawing();
			});
}

function fetchData() {
    dim.requests++;
    var now = new Date();
    prevtime = now.getTime();
	
	$.ajax({
	  method: "POST",
	  url: "/getStarts?" + parameters_coord,
	  contentType: 'application/json; charset=utf-8',
	  data: { }
	})
	  .done(function( msg ) {
		console.log( "Consulta estrellas: " + msg );
		onComplete(msg.d);
	});

	//onComplete(starDataExample.d);
}

function fetchConstData() {
    constDataInit = false;
    
	$.ajax({
	  method: "POST",
	  url: "/getConst?" + parameters_coord,
	  contentType: 'application/json; charset=utf-8',
	  data: { }
	})
	  .done(function( msg ) {
		console.log( "Consulta Constelaciones: " + msg );
		onCompleteConstData(msg.d);
	});
	
	//onCompleteConstData(constDataExample.d);
}

function initDisplay() {
    var canvas = document.getElementById('map');
    if (!canvas.getContext) {
        document.getElementById('slider').style.visibility = 'hidden';
        document.getElementById('sliderKnob').style.visibility = 'hidden';
        document.getElementById('navigation').style.visibility = 'hidden';
    }

    var displayMap = getDisplayMap();
    var center = {'x': 0, 'y': 0}; //{ 'x': width / 2, 'y': height / 2 }
    
    //center - viewpoint coord from map origin (0,0) - center of screen matches this location
    dim = { 'centerX': 1500*2, 'centerY': 1500*2, 'requests': 0,
        'width': original_width, 'height': original_height, 'rotation': 90,
        'zoomLevel': 0, 'radius': 1500*2, 'initialRadius': 1500*2
    };
    displayMap.start = { 'x': 0, 'y': 0 }; // this is reset each time that the mouse is pressed anew
    displayMap.pressed = false;

    activeSurface = document.getElementById('map');
    displayMap.activeSurface = activeSurface;
    activeSurface.onmousedown = pressDisplayMap;

    //init zoom level
    if (document.getElementById('HiddenFieldZoom').value != 'undefined') {
        zoomLevel = document.getElementById('HiddenFieldZoom').value
        zoomImage(displayMap, parseInt(zoomLevel), false, true)
    }

    if (document.getElementById('HiddenFieldRotation').value != "") {
        dim.rotation = parseInt(document.getElementById('HiddenFieldRotation').value)
    }
    if (document.getElementById('HiddenFieldX').value != "") {
        dim.mapX = parseInt(document.getElementById('HiddenFieldX').value)
    }
    if (document.getElementById('HiddenFieldY').value != "") {
        dim.mapY = parseInt(document.getElementById('HiddenFieldY').value)
    }

    dim.latitude = parseFloat(document.getElementById('HiddenFieldLatitude').value)
    dim.longitude = parseFloat(document.getElementById('HiddenFieldLongitude').value)

    var info = document.getElementById('information')
    var hiddenUTC = document.getElementById('HiddenFieldTime')
    //info.innerHTML = "hello"
    if (info != null && hiddenUTC != null) {
        var list = hiddenUTC.value.split(',')
        var date = new Date(); //list[0], list[1], list[2], list[3], list[4], list[5])
        date.setUTCFullYear(list[0], parseInt(list[1]) - 1, list[2])
        date.setUTCHours(list[3], list[4], list[5])
        var secondlist = date.toString().split(' ') // to get timezone name
        //info.innerHTML = info.innerHTML + " on <a href=""javascript:__doPostBack('Menu1','Location')""> " + date.toLocaleString() + "</a>" //+ ":"+ secondlist[4] + ":" + date.toString()
        info.innerHTML = info.innerHTML + ' - <a href=\'javascript:__doPostBack(\"Menu1\",\"Time\")\'> ' + date.toLocaleString() + "</a>"
        dim.time = list[0] + doubleChar(list[1]) + doubleChar(list[2]) + doubleChar(list[3]) + doubleChar(list[4]) + doubleChar(list[5])
    }
    GetClientUTC()        
}

function onCompleteConstData(args) {
    linelist = new Array();
    namelist = new Array();
    var buffer = args[0];
    var lines = buffer.split(',');
    var i = 0;
    for (i = 0; i < lines.length - 1; i = i + 4) {
        var t = new CanvasLine();
        t.x1 = Number(lines[i]);
        t.y1 = Number(lines[i + 1]);
        t.x2 = Number(lines[i + 2]);
        t.y2 = Number(lines[i + 3]);
        linelist.push(t);
    }
    buffer = args[1];
    lines = buffer.split(',');
    for (i = 0; i < lines.length - 1; i = i + 3) {
        var t = new CanvasName();
        t.x = Number(lines[i]);
        t.y = Number(lines[i + 1]);
        t.name = lines[i + 2];
        namelist.push(t);
    }
    constDataInit = true;
    drawMap();
}

function onComplete(args) {
    dim.requests--;
    //parse data only for the last request - to avoid async problems (data received not in sync with changed offsets)
    starlist = new Array();

    var buffer = args;
    var lines = buffer.split('|');
    
    fov = Number(lines[0]);
    var showMaxMagnitude = 4.5;
    if (fov < 2) showMaxMagnitude = 99;
    else if (fov < 6) showMaxMagnitude = 11;
    else if (fov < 15) showMaxMagnitude = 10;
    else if (fov < 30) showMaxMagnitude = 9;
    else if (fov < 45) showMaxMagnitude = 8;
    else if (fov < 60) showMaxMagnitude = 7;
    else if (fov < 120) showMaxMagnitude = 6;
    else if (fov < 180) showMaxMagnitude = 5;
    else if (fov < 500) showMaxMagnitude = 11;
    else { showMaxMagnitude = 4.5; }
    maxStarFactor = showMaxMagnitude;
    console.log("maxStarFactor: " + maxStarFactor);

    for (var i = 1; i < lines.length - 1; i = i + 4) {
        var t = new CanvasStar();
        t.x = Number(lines[i]);
        t.y = Number(lines[i + 1]);
        t.magnitude = Number(lines[i + 2]);
        t.name = lines[i + 3];
        starlist.push(t);
        t.printStar();
    }

    //var textbox = document.getElementById('Text1');
    var now = new Date();
    var time = now.getTime();
    //textbox.value = time - prevtime;
    
    if (dim.requests == 0) drawMap();
}

function onFailure(args) {
    dim.requests--;
    alert("timeout / failure");
}

function onError(args) {
    dim.requests--;
    alert("error");
}

function getCursorPosition(e) {
    var x;
    var y;
    if (e.pageX != undefined && e.pageY != undefined) {
        mouse.x = e.pageX;
        mouse.y = e.pageY;
    }
    else {
//        mouse.x = e.clientX + document.body.scrollLeft +
//            document.documentElement.scrollLeft;
//        mouse.y = e.clientY + document.body.scrollTop +
//            document.documentElement.scrollTop;
    }
    var canvas = document.getElementById('map');
    //mouse.x -= canvas.offsetLeft;
    //mouse.y -= canvas.offsetTop;

    mouse.x = mouse.x + document.documentElement.scrollLeft - document.documentElement.clientLeft + document.body.scrollLeft
    mouse.y = mouse.y + document.documentElement.scrollTop - document.documentElement.clientTop + document.body.scrollTop

    for (var node = canvas; node; node = node.offsetParent) {
        mouse.x -= node.offsetLeft;
        mouse.y -= node.offsetTop;
    }
}

document.onmousedown = function(e) {
    //todo - must implement search optimization here
    if (canvasSupport) {
        getCursorPosition(e);
        searchForStar();
    }
}

function searchForStar() {
    //screen offsets (screen top left from map origin) + viewpoint offsets (viewpoint center from map center)
    var offsetX = dim.width / 2 - dim.centerX;
    var offsetY = dim.height / 2 - dim.centerY;

    for (i = 0; i < starlist.length; i++) {
        var x = offsetX + starlist[i].x;
        var y = offsetY + starlist[i].y;
        if (Math.abs(mouse.x - x) <= 3 && Math.abs(mouse.y - y) <= 3) {
            position = i;
            drawMap();
            return;
        }
    }
    if (position >= 0) {
        position = -1;
        drawMap();
    }
}

function GetClientUTC() {
    var now = new Date();
    var offset = -now.getTimezoneOffset();
    document.getElementById("hdClientUTC").value = offset;
}

document.onmousemove = function(e) {
    if (canvasSupport) {
        getCursorPosition(e);
        //screen offsets (screen top left from map origin) + viewpoint offsets (viewpoint center from map center)
        var offsetX = dim.width / 2 - dim.centerX;
        var offsetY = dim.height / 2 - dim.centerY;

        clearTimeout(t);
        if (position >= 0 && (Math.abs(mouse.x - offsetX - starlist[position].x) > 3 || Math.abs(mouse.y - offsetY - starlist[position].y) > 3)) {
            position = -1;
            drawMap();
        }
        t = setTimeout(searchForStar, 100);
    }
}

function drawStar(ctx, x, y, r) {
    r += 1.5;
    console.log("gradient r: " + r);
    if (r > 1) {
        var gr = ctx.createRadialGradient(x, y, 0, x, y, r);
        gr.addColorStop(0, "rgba(" + startsColor + ", 1)");
        //gr.addColorStop(0.5, "rgba(255, 255, 255, 0.2)");
        gr.addColorStop(1, "rgba(" + startsColor + ", 0)");
        ctx.fillStyle = gr;
    }
    else ctx.fillStyle = "rgba(" + startsColor + ", 1)";
    
    //ctx.fillStyle = "rgba(255,0,0," + aux / 5 + ")";
    ctx.beginPath();
    ctx.arc(x, y, r, 0, circle, true);
    ctx.closePath();
    ctx.fill();
}

function drawImage() {
    var canvas = document.getElementById('map');
    if (canvas.getContext) {
        canvasSupport = true;
        var ctx = canvas.getContext('2d');
    }
}

function drawMap() {
    //var displayMap = getDisplayMap();
    var canvas = document.getElementById('map');
    if (canvas.getContext) {
        canvasSupport = true;
        var ctx = canvas.getContext('2d');
        ctx.save();
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        //ctx.fillStyle = backgroundColor;
        //ctx.fillRect(0, 0, 960, 500);

        //ctx.fillRect(0, -500, original_width, original_height);
        //ctx.translate(375-500, 0);
        //ctx.rotate(rotate * Math.PI / 36);
        //ctx.translate(480, 250);

        //ctx.translate(2 * (rotate % 300), 0);
        //ctx.translate(dim.offsetX, dim.offsetY);

        //screen offsets (screen top left from map origin) - viewpoint offsets (viewpoint center from map center)
        //offsetX = dim.width / 2 - dim.radius - dim.centerX + dim.radius;
        var offsetX = dim.width / 2 - dim.centerX;
        var offsetY = dim.height / 2 - dim.centerY;

        var posX = offsetX + dim.radius;
        var posY = offsetY + dim.radius;
        //var gr = ctx.createRadialGradient(posX, posY, dim.radius - 20, posX, posY, dim.radius);
        //gr.addColorStop(0, "rgba(" + haloColor + ", 0)");
        //gr.addColorStop(1, "rgba(" + haloColor + ", 1)");
        //gr.addColorStop(2, "rgba(0, 0, 255, 1)");
        //ctx.fillStyle = gr;
        //ctx.beginPath();
        //ctx.strokeStyle = "blue";
        //ctx.arc(posX, posY, dim.radius, 0, circle, true);
        //ctx.closePath();
        //ctx.fill();

		//TO MATCH HALO WITH STARTS MAP
		//offsetX = offsetX - dim.radius;
		//offsetY = offsetY - dim.radius;
		
		//FOR CONSTELATION
        var constColorsArray = ["rgb(102, 102, 181)","rgb(181, 102, 154)","rgb(150, 102, 181)","rgb(102, 116, 181)","rgb(102, 134, 181)","rgb(102, 171, 181)","rgb(102, 181, 111)","rgb(181, 178, 102)","rgb(181, 102, 102)"];
        var i;
        if(kids){
        	var gk = 0;
	        ctx.strokeStyle = constColorsArray[gk];
	        if (constDataInit) {
	            for (i = 0; i < linelist.length; i++) {
	            	ctx.strokeStyle = constColorsArray[gk];
	            	ctx.lineWidth=constLineWidth;
	            	ctx.beginPath();
	                var a1 = offsetX + Number(linelist[i].x1);
	                var a2 = offsetY + Number(linelist[i].y1);
	                var xInter = offsetX + Math.pow(1.5, dim.zoomLevel) * ((linelist[i].x1 + linelist[i].x2) / 2);
	                var yInter = offsetY + Math.pow(1.5, dim.zoomLevel) * ((linelist[i].y1 + linelist[i].y2) / 2);
	                ctx.moveTo(offsetX + Math.pow(1.5, dim.zoomLevel) * linelist[i].x1, offsetY + Math.pow(1.5, dim.zoomLevel) * linelist[i].y1);
	                ctx.quadraticCurveTo(offsetX + Math.pow(1.5, dim.zoomLevel) * linelist[i].x1, offsetY + Math.pow(1.5, dim.zoomLevel) * linelist[i].y1, xInter, yInter);
	                ctx.quadraticCurveTo(xInter, yInter,offsetX + Math.pow(1.5, dim.zoomLevel) * linelist[i].x2, offsetY + Math.pow(1.5, dim.zoomLevel) * linelist[i].y2);
	                //ctx.lineTo(offsetX + Math.pow(1.5, dim.zoomLevel) * linelist[i].x2, offsetY + Math.pow(1.5, dim.zoomLevel) * linelist[i].y2);
	                if(gk == constColorsArray.length-1){
	                	gk = 0;
	                }else{
	                	gk++;
	                }
	                ctx.stroke();
	            }
	        }
        }else{
	        ctx.strokeStyle = constColor;
			ctx.lineWidth=constLineWidth;
	        ctx.beginPath();
	        if (constDataInit) {
	            for (i = 0; i < linelist.length; i++) {
	                var a1 = offsetX + Number(linelist[i].x1);
	                var a2 = offsetY + Number(linelist[i].y1);
	                ctx.moveTo(offsetX + Math.pow(1.5, dim.zoomLevel) * linelist[i].x1, offsetY + Math.pow(1.5, dim.zoomLevel) * linelist[i].y1);
	                ctx.lineTo(offsetX + Math.pow(1.5, dim.zoomLevel) * linelist[i].x2, offsetY + Math.pow(1.5, dim.zoomLevel) * linelist[i].y2);
	                //ctx.endPath();
	            }
	        }
	        ctx.stroke();
        }

		//MIDDLE
        ctx.beginPath(); 
        ctx.strokeStyle = "red";
		ctx.lineWidth=1;
        ctx.moveTo(dim.width / 2 - 5, dim.height / 2);
        ctx.lineTo(dim.width / 2 + 5, dim.height / 2);
        ctx.moveTo(dim.width / 2, dim.height / 2 - 5);
        ctx.lineTo(dim.width / 2, dim.height / 2 + 5);
        ctx.stroke();

		//STARS
		startsZoomFactor = (Math.pow(1.5,dim.zoomLevel)*Math.pow(1.311,3))/(Math.pow(1.5,3));
        for (i = 0; i < starlist.length; i++) {
            drawStar(ctx, 
						offsetX + startsZoomFactor * starlist[i].x, 
						offsetY + startsZoomFactor * starlist[i].y,
						Math.pow(startsBrightness, dim.zoomLevel) * starSize(starlist[i].magnitude)); //starlist[i].size / 2);
        }
		
		//CONSTELATION NAMES
        ctx.fillStyle = constNamefontColor;
        ctx.font = constNamefontStyle;
        ctx.textBaseline = 'alphabetic';
        if (constDataInit) {
            for (i = 0; i < namelist.length; i++) {
                ctx.fillText(namelist[i].name, 
							offsetX + Math.pow(1.5, dim.zoomLevel) * namelist[i].x, 
							offsetY + Math.pow(1.5, dim.zoomLevel) * namelist[i].y);
            }
        }
        //ctx.fill();
        //ctx.fill

        if (position >= 0) {
            drawStarBorder(ctx, 
								offsetX + startsZoomFactor * starlist[position].x, 
								offsetY + startsZoomFactor * starlist[position].y, 
								Math.pow(startsBrightness, dim.zoomLevel) * starSize(starlist[position].magnitude));

            ctx.font = 'bold 10px Arial';
            //ctx.textBaseline = 'top';
            ctx.fillStyle = 'rgba(0, 0, 0, 0.8)';
            //ctx.fillStyle = 'red';
            var q = ctx.measureText(starlist[position].name).width;
            //ctx.fillRect(starlist[position].x, starlist[position].y, starlist[position].x + ctx.measureText(starlist[position].name).width, starlist[position].y + 12);
            var x = offsetX + startsZoomFactor * starlist[position].x + 5;
            var y = offsetY + startsZoomFactor * starlist[position].y;
            var starLabel1 = starlist[position].name;
            var starLabel2 = 'magnitude ' + starlist[position].magnitude.toFixed(2);
            ctx.fillRect(x, y - 12, ctx.measureText(starLabel1).width, 12);
            ctx.fillRect(x, y, ctx.measureText(starLabel2).width, 12);
            ctx.fillStyle = 'white';
            ctx.textBaseline = 'bottom';
            ctx.fillText(starLabel1, x, y);
            ctx.fillText(starLabel2, x, y + 12);            
        }
        if (dim.requests > 0) {
            ctx.fillStyle = 'white';
            ctx.textBaseline = 'bottom';
            ctx.fillText("loading...", 0, dim.height) ;//dim.width - 20);
        }
            ctx.restore();
            if (rotating) {
            clearTimeout(t);
            t = setTimeout(drawMap, 10);
            rotate++;
        }        
    }
}

function starSize(magnitude) {
    var size = maxStarFactor - magnitude;
    if (size < 0) size = 0;
    else if (size > maxStarFactor) size = maxStarFactor;
    return size;
}    

function drawStarBorder(ctx, x, y, r) {
    var s = 3 * r;
    if (s < 8) s = 8;
    if (r > 14) s = 2 * r;
    var gr = ctx.createRadialGradient(x, y, 0, x, y, s);
    gr.addColorStop(0, "rgba(255, 255, 255, 0.5)");
    gr.addColorStop(1, "rgba(255, 255, 255, 0)");
    ctx.fillStyle = gr;
    ctx.beginPath();
    ctx.arc(x, y, s, 0, circle, true);
    ctx.closePath();
    ctx.fill();
}

function localizeCoordinates(displayMap, client) {
    var local = { 'x': client.x, 'y': client.y };
    local.x = local.x + document.documentElement.scrollLeft - document.documentElement.clientLeft + document.body.scrollLeft
    local.y = local.y + document.documentElement.scrollTop - document.documentElement.clientTop + document.body.scrollTop

    for (var node = displayMap; node; node = node.offsetParent) {
        local.x -= node.offsetLeft;
        local.y -= node.offsetTop;
    }

    return local;
}

function getDisplayMap() {
    return document.getElementById('displayMap')
    //return this.displayMap;
}
// *********************

function sliderClick(e) {
    hideTooltip()
    var ev = getEvent(e)

    var displayMap = getDisplayMap()
    var mouse = localizeCoordinates(displayMap, { 'x': ev.clientX, 'y': ev.clientY });
    var slider = document.getElementById('sliderKnob')
    displayStatus("screen: " + ev.screenX + " client: " + ev.screenY + ' scrollTop: ' + document.documentElement.scrollTop + ' clientTop: ' + document.body.clientTop)

    var posy = mouse.y - 5

    //used to not move slider knob if pressed + or - and zoomLevel didn't change
    var check = false
    //if click on +
    if (mouse.y <= oSlider.minValue) {
        posy = slider.offsetTop - stepSlider();
        check = true
    }
    //if click on -
    else if (mouse.y >= oSlider.maxValue + 8) {
        posy = slider.offsetTop + stepSlider();
        check = true;
    }

    posy = validSliderKnobLocation(posy)
    //if used + or - and zoomLevel didn't change
    if (check && getZoomLevelFromSlider() == getZoomLevel(posy)) {
        return
    }

    //displayStatus(posy)
    document.getElementById('sliderKnob').style.top = posy + 'px';
    //document.getElementById('HiddenFieldPosition').value = posy + 'px'
    UpdateZoomLevel()
}

function pressSliderKnob(e) {
    var sliderKnob = document.getElementById('sliderKnob');
    sliderKnob.pressed = true;
    var ev = getEvent(e);
    if (ev.preventDefault) {
        ev.preventDefault();
    } 
}

function releaseSliderKnob() {
    var sliderKnob = document.getElementById('sliderKnob')
    if (sliderKnob != null && sliderKnob.pressed) {
        sliderKnob.pressed = false
        UpdateZoomLevel()
    }
}

function getZoomLevelFromSlider() {
    var sliderKnob = document.getElementById("sliderKnob")
    return getZoomLevel(sliderKnob.offsetTop)
}

function updateSlider(zoomLevel) {
    var sliderKnob = document.getElementById("sliderKnob")
    var position = oSlider.maxValue - zoomLevel * stepSlider()
    sliderKnob.style.top = position + 'px'
}

function getZoomLevel(offset) {
    var position = offset - oSlider.minValue
    var sliderLength = oSlider.maxValue - oSlider.minValue
    var interval = sliderLength / oSlider.zoomLevels
    return Math.round((sliderLength - position) / interval)
}

function validSliderKnobLocation(location) {
    if (location < oSlider.minValue) {
        location = oSlider.minValue;
    }
    if (location >= oSlider.maxValue) {
        location = oSlider.maxValue;
    }
    return location
}

function stepSlider() {
    var sliderLength = oSlider.maxValue - oSlider.minValue
    return (sliderLength / oSlider.zoomLevels)
}

function moveSliderKnob(e) {
    var ev = getEvent(e)
    var sliderKnob = document.getElementById('sliderKnob')
    if (sliderKnob && sliderKnob.pressed) {

        var displayMap = getDisplayMap()
        //disableSelection(displayMap)
        var mouse = localizeCoordinates(displayMap, { 'x': ev.clientX, 'y': ev.clientY });
        var location = validSliderKnobLocation(mouse.y - 5)
        //displayStatus(mouse.y + ' ' + sliderPosition.y)

        sliderKnob.style.top = location + 'px'
        //document.getElementById('HiddenFieldPosition').value = location + 'px'

        // cancel out any text selections
        document.body.focus();

        // prevent text selection in IE
        document.onselectstart = function() { return false; };

        return false;
    }
}

function UpdateZoomLevel() {
    var newZoomLevel = getZoomLevelFromSlider()
    var displayMap = getDisplayMap()
    zoomImage(displayMap, newZoomLevel - dim.zoomLevel, true, false)
}

function displayStatus(message) {
    //do nothing
}

function hideTooltip() {
    //do nothing
}

function hideObjectInfo() {
    //do nothing
}

function getEvent(event) {
    if (event == 'undefined') {
        return window.event;
    }
    return event;
}

function mouseOut(event) {
    var ev = getEvent(event);
    var mouse = { 'x': ev.clientX, 'y': ev.clientY }
    var displayMap = getDisplayMap()
    //displayStatus(' out location ' + mouse.x + ',' + mouse.y)
    if (displayMap != null) {
        if (mouse.x <= 0 || mouse.y <= 0 || mouse.x >= displayMap.style.pixelWidth || mouse.y >= displayMap.style.pixelHeight) {
            releaseDisplayMap(event)
            //if (tooltipText != '') displayMap.activeSurface.title = tooltipText
        }
    }
}

function pressDisplayMap(event) {
    var displayMap = getDisplayMap();
    var ev = getEvent(event);
    if (ev.preventDefault) {
        ev.preventDefault();
    }
    var mouse = localizeCoordinates(displayMap, { 'x': ev.clientX, 'y': ev.clientY });
    prevcenter = { 'x': dim.centerX, 'y': dim.centerY };

    displayMap.pressed = true;
    displayMap.style.cursor = 'move';

    displayMap.start = { 'x': mouse.x, 'y': mouse.y };
    this.onmousemove = moveViewer;
    //releaseSliderKnob();
}

function releaseDisplayMap(event) {
    var ev = getEvent(event);
    releaseSliderKnob();
    var displayMap = getDisplayMap();

    if (displayMap != 'undefined' && displayMap.pressed) {
        var mouse = localizeCoordinates(displayMap, { 'x': ev.clientX, 'y': ev.clientY });

        positionMap(displayMap.start, mouse, false);
        positionInsideMap(displayMap, mouse);
        positionMap(displayMap.start, mouse, true);

        displayMap.activeSurface.onmousemove = null;
        displayMap.style.cursor = 'default';
        displayMap.pressed = false;

        //dim.x += (mouse.x - displayMap.start.x);
        //dim.y += (mouse.y - displayMap.start.y);

        //var dif = { 'x': dim.x - dim.centerX + dim.tileSize / 2, 'y': dim.y - dim.centerY + dim.tileSize / 2 }

//        var coord = centerCoordinates(displayMap, { 'x': 0, 'y': 0 }, { 'x': 0, 'y': 0 })
//        document.getElementById('HiddenFieldX').value = coord.x
//        document.getElementById('HiddenFieldY').value = coord.y
    }
}

function moveViewer(event) {
    var displayMap = getDisplayMap();
    //var dim = displayMap.dimensions;
    var ev = getEvent(event);
    var mouse = localizeCoordinates(displayMap, { 'x': ev.clientX, 'y': ev.clientY });

    positionMap(displayMap.start, { 'x': mouse.x, 'y': mouse.y }, false);

    // cancel out any text selections
    document.body.focus();

    // prevent text selection in IE
    document.onselectstart = function() { return false; };

    return false;
}

function zoomImage(displayMap, direction, withPositionTiles, updateZoomSlider) {
    hideObjectInfo()
    if (direction != 0 && dim.zoomLevel + direction >= 0 && dim.zoomLevel + direction <= 10) {

        //difference from previous set center
//        var dif = { 'x': dim.centerX - dim.tileSize / 2 - dim.x, 'y': dim.centerY - dim.tileSize / 2 - dim.y }

        dim.zoomLevel += direction
        dim.radius = Math.round(Math.pow(1.5, dim.zoomLevel) * dim.initialRadius)
        //dim.radius = Math.round(Math.pow(1.5, dim.zoomLevel))
        //adjust map coordinates
        dim.centerX = Math.round(Math.pow(1.5, direction) * dim.centerX)
        dim.centerY = Math.round(Math.pow(1.5, direction) * dim.centerY)

        displayMap.start = { 'x': 0, 'y': 0 }
        //var coord = centerCoordinates(displayMap, { 'x': 0, 'y': 0 }, { 'x': 0, 'y': 0 })
        if (withPositionTiles) {
//            cleanTiles(displayMap);
//            positionTiles(displayMap, displayMap.start);
//            document.getElementById('HiddenFieldX').value = coord.x
//            document.getElementById('HiddenFieldY').value = coord.y
            //WebAppTest1.DataService.GetStarData("r=" + dim.radius + "&x=" + dim.centerX + "&y=" + dim.centerY + "&lat=47.6062095&long=-122.3320708&time=20101005072153&rotation=90&w=960&h=500", onComplete, onFailure, onError);
            starlist = new Array();
            drawMap();
            fetchData();
        }
//        document.getElementById('HiddenFieldZoom').value = dim.zoomLevel
        if (updateZoomSlider) {
            updateSlider(dim.zoomLevel)
        }

        //UpdateTelrad()
    }
}

function positionMap(start, mouse, fetch) {
    //var text = document.getElementById('Text1');
    dim.centerX = prevcenter.x - (mouse.x - start.x);
    dim.centerY = prevcenter.y - (mouse.y - start.y);
    drawMap();
    if (fetch) fetchData();
}

// ***************************************
//
// navigation and compass
//
// ***************************************

function shiftMap(displayMap, offset) {
    if (!centerOutsideMap(dim.centerX + offset.x, dim.centerY + offset.y))
    {
        dim.centerX += offset.x;
        dim.centerY += offset.y;
        drawMap();
        fetchData();
    }
}

function pressNavigation(e) {
    var ev = getEvent(e)
    var displayMap = getDisplayMap()
    var mouse = localizeCoordinates(displayMap, { 'x': ev.clientX, 'y': ev.clientY });
    displayMap.start = { 'x': 0, 'y': 0 }
    if (mouse.y < 21) {
        shiftMap(displayMap, { 'x': 0, 'y': -100 })
    }
    else if (mouse.y > 35) {
        shiftMap(displayMap, { 'x': 0, 'y': 100 })
    }
    else if (mouse.x < 21) {
        shiftMap(displayMap, { 'x': -100, 'y': 0 })
    }
    else if (mouse.x > 35) {
        shiftMap(displayMap, { 'x': 100, 'y': 0 })
    }
}

function positionInsideMap(displayMap, mouse) {
    var step = { 'x': (mouse.x - displayMap.start.x) / 10, 'y': (mouse.y - displayMap.start.y) / 10 };
    if (centerOutsideMap(prevcenter.x, prevcenter.y)) return;
    do {
        var outside = centerOutsideMap(dim.centerX, dim.centerY)
        if (outside) {
            mouse.x = Math.round(mouse.x - step.x)
            mouse.y = Math.round(mouse.y - step.y)
            //positionTiles(displayMap, { 'x': mouse.x, 'y': mouse.y });
            positionMap(displayMap.start, mouse, false);
        }
    } while (outside);
}

function centerOutsideMap(centerX, centerY) {
    var difCenters = { 'x': centerX - dim.radius, 'y': centerY - dim.radius }
    var outside = difCenters.x * difCenters.x + difCenters.y * difCenters.y >= dim.radius * dim.radius
    return outside;
}

function doubleChar(v) {
    var result = '0'
    if (v < 10) result = '0' + v.toString()
    else result = v.toString()
    return result
}